# 데이터 모델링 특징
1. 추상화
- 공통 특징 찾고 현실세계를 간략히 표현
2. 단순화
- 누구나 쉽게 이해할 수 있도록 표현
3. 명확성
- 명확하게 의미가 해석되어야 하고, 한 가지 의미를 가져야 한다.

# 데이터 모델링 단계
1. 개념적 모델링 (Conceptual Data modeling)
- 전사적 관점에서 기업의 데이터 모델링 (업무 전체에 대해서 ..)
- 추상화 수준이 가장 높은 모델링
- 업무 측면에서의 모델링 (복잡한 표현 지양)

2. 논리적 모델링 (Logical Data Modeling)
- 정규화를 통해 재사용성을 높인다.
- 특정 데이터베이스 모델에 종속한다.
- 식별자 정의, 관계/속성 등 모두 표현

3. 물리적 모델링 (Physical Modeling)
- 성능, 보안, 가용성을 고려해 구축
- 데이터베이스의 실제를 구축. (인덱스, 테이블, 함수 생성)

# 데이터 모델링 고려사항
1. 독립성
- 독립성 확보 => 능동적 대응
- 독립성 확보 위해 중복 데이터 제거 필요
    - 정규화를 통해 가능
2. 고객 요구사항 표현
- 고객의 요구사항을 간결/명확히 표현해 데이터 모델러와 고객간 의사소통 강화
3. 품질 확보
- 표준 준수율 관리, 표준 정의 => 데이터 품질 개선

# ERD
- Entity Relationship Model 표기법
    - ERD는 이해가 쉬워야 하고 복잡하지 않아야 한다.

## 작성 순서
1. 엔터티 도출하고 그린다.
2. 배치한다.
- 중요한 엔터티는 가급적 좌상단 배치
3. 엔터티 관계 설정
4. 엔터티 관계명 서술
- 엔터티간 어떤 행위나 존재가 있는지 표현
5. 관계 참여도 표시
- M:N or N:1 ... 고객 한명이 계좌를 몇개 개설할 수 있을까
6. 관계의 필수 여부를 표현
- 여기서 필수 : 반드시 존재해야 하는 것!
    - 고객 한명은 반드시 하나 이상의 계좌를 보유

-------------------
# 3층 스키마 (3-Level Schema)
- 사용자/개발자/설계자의 DB를 바라보는 관점에 따라 DB를 기술, 관계를 설정한 ANSI 표준
- 독립성을 확보할 수 있다
    - 복잡도 감소, 중복 제거, 유동적인 대응, 유지비용 절감 효과
    - 3단계의 계층으로 분리해서 독립성을 확보
        - 각 계층을 view라고 한다.

## 3층 스키마 구조
- 크게 External(외부), Conceptual(개념), Internal(내부)로 구성
### 외부 스키마
- 관련 DB의 view를 표시한다.
- 응용 프로그램이 접근하는 DB정의
- 사용자 관점! 업무상 관련이 있는 데이터 접근
### 개념 스키마
- 통합 DB 구조
- 전체 DB 내 규칙과 구조를 표현
- 설계자 관점! 사용자 전체 집단의 DB 구조
### 내부 스키마
- 데이터 저장 구조, 레코드 구조, 필드, 정의, 인덱스 ...
- 개발자 관점! DB의 물리적 저장 구조

-------------------------
# 엔터티
## 특징
1. 식별자
- 유일한 식별자가 존재해야 한다. (계좌번호, ID ...)
2. 인스턴스 집합
- 2개 이상의 인스턴스가 있어야 한다. (고객정보는 둘 이상..)
3. 속성
- 고객 엔터티엔 ID뿐만 아니라 PW, 이름, 주소 등의 정보 포함
4. 관계
- 최소 한개이상의 다른 엔터티와 관계를 맺고 있어야 한다. (고객이 계좌를 개설...)
5. 업무
- 업무에서 관리되어야 하는 집합이다.

## 종류
### 유형과 무형을 기준으로 분류
1. 유형 엔터티
- 업무에서 도출되며, 지속적으로 사용됨
    - 고객, 강사, 사원 ...
2. 개념 엔터티
- 무형 (개념적으로 사용되는 엔터티)
    - 거래소 종목, 코스닥 종목, 보험 상품 ...
3. 사건 엔터티
- 비즈니스 프로세스를 실행하면 생성
    - 주문, 취소주문, 수수료 청구 ...

### 발생 시점에 따른 분류
1. 기본 엔터티
- 키 엔터티라고 함.
- 다른 엔터티로부터 영향받지 않고, 독립적으로 생성된다.
    - 고객, 상품, 부서 ...
2. 중심 엔터티
- 기본 엔터티와 행위 엔터티 중계
- 기본 엔터티로부터 발생, 행위 엔터티 생성
    - 계좌, 주문, 취소 ...
3. 행위 엔터티
- 2개 이상의 엔터티로부터 발생
    - 주문 이력, 체결 이력 ...

--------------------------
# 속성
- 엔터티가 가지는 항목으로 더이상 분리되지 않는 단위 (인스턴스의 구성요소, 의미적으로 더이상 분해되지 않는다.)
## 속성의 특징
- 업무에서 관리되는 정보
- 일반적으로 하나의 값
- 주식별자에 함수적으로 종속된다. 즉, 기본키 변경시 속성값 변경
## 속성의 종류
### 분해 여부에 따른 종류
1. 단일 속성
- 하나의 의미로 구성된 것 (ID, 이름...)
2. 복합 속성
- 여러개의 의미가 있는 것 (주소 {시, 군, 동 등으로 분해 가능})
3. 다중값 속성
- 속성에 여러값을 가질 수 있는 것 (상품 리스트...)
- 다중값 속성은 엔터티로 분해된다.

### 특성에 따른 종류
1. 기본 속성
- 비즈니스 프로세스에서 도출되는 본래의 속성 (ID, 이름, 계좌번호, 주문 일)
2. 설계 속성
- 데이터 모델링 과정에서 발생
- 유일 값 부여 (상품코드, 지점코드 ... {pk, fk와 유사})
3. 파생 속성
- 다른 속성에 의해 만들어지는 값 (합계, 평균 ...)

------------------

# 관계
- 엔터티 간의 관련성을 의미
- 존재관계와 행위관계로 분류
    - 존재관계 : 두개의 엔터티가 존재여부에 관계가 있는 것이고
    - 행위관계 : 두개의 엔터티가 어떤 행위에 의한 관련성이 있는 것
## 관계의 종류
### 존재관계
- 엔터티간의 **상태**
    - 고객이 은행에 회원가입 => 관리지점 할당
### 행위관계
- 엔터티간 어떤 행위가 있는 것으로, 계좌를 사용해 주문을 발주하는 관계가 만들어진다.
    - 증권회사는 계좌를 개설하고 주문을 발수

## 관계 차수
- 두개의 엔터티 간에 참여하는 수를 의미
    - 한명의 고객 여러개의 계좌 개설 == 'N:1'

### 관계차수의 종류
1. 1대1
- 고객ID <=> 고객 휴대폰 번호
    - 완전1대1, 선택적 1대1 존재
2. 1대N
- 고객 한명이 여러개의 계좌 개설 ...
3. M대N
- 두개의 엔터티가 서로 여러개의 관계를 가지고 있음
    - 한명의 학생 여러개의 과목, 한개의 과목 여러명의 학생
- M:N 관계의 Join은 카테시안 곱이 발생
    - 따라서 N:1, 1:N으로 해소하는 과정 필요
        - 다른 엔터티를 끌어오는 방법 활용 가능
        - 수강이라는 엔터티
4. 필수적 관계 & 선택적 관계
- 필수적 관계 : 반드시 하나가 있어야 하는 관계
    - 고객이 있어야 계좌를 개설할 수 있다.
- 선택적 관계 : 없을 수도 있음.
    - 고객은 있지만 계좌가 없을 수 있다면, 이는 선택적 관계

------------------
# 엔터티 식별자
- 유일성을 만족하는 속성으로, ID, 계좌번호, 주민등록번호 등이 있다.
## 주식별자 (Primary Key, 기본키)
- 최소성 : 최소성을 만족
- 대표성 : 엔터티를 대표할 수 있음
- 유일성 : 엔터티의 인스턴스를 유일하게 식별
- 불변성 : 자주 변경되지 않아야 한다
- 존재성 : 항상 데이터 값이 있어야 한다

### 키의 종류
1. 기본키 : 엔터티 대표
2. 후보키 : 유일성과 최소성 만족
3. 슈퍼키 : 유일성 만족, 최소성 만족 X
4. 대체키 : 여러개의 후보키 중 기본키를 선정하고 남은 키
5. 외래키 : 다른 테이블 기본키 필드를 가리키는 것, **참조 무결성**확인 목적

## 식별자의 종류
- 대표성, 생성 여부, 속성의 수, 대체 여부로 분류된다.
### 대표성
1. 주식별자
- 유일성과 최소성을 만족하면서 엔터티를 대표하는 식별자
- 다른 엔터티와 참조 관계로 연결될 수 있다.
2. 보조식별자
- 유일성과 최소성은 만족하지만, 대표성을 만족하지 못하는 식별자
### 생성여부
1. 내부식별자
- 엔터티 내부에서 스스로 생성되는 식별자
    - 부서코드, 주문번호, 종목코드 ...
2. 외부식별자
- 다른 엔터티와의 관계에 의해 생성되는 식별자
    - 계좌 엔터티에 회원 ID
### 속성의 수
1. 단일 식별자
- 하나의 속성으로 구성
    - 고객 엔터티 - 회원 ID
2. 복합 식별자
- 두개 이상의 속성

### 대체 여부
1. 본질 식별자
- 비즈니스 프로세스에 의해 생성되는 식별자
2. 인조 식별자
- 인위적으로 만들어지는 식별자
------------------------
# 이론을 확인하는 기춟문제 (76p)
1. 데이터 모델링의 주요 특징으로 옳지 않은 것?
- 추상화, 단순화, 복잡화, 명확화
    - => 복잡화

2. 데이터 모델링 절차로 옳바른 것
- 3번 개념-논리-물리

3. 데이터 모델의 3가지 관점이 아닌 것?
- 기능, 데이터, 프로세스, 데이터와 프로세스
    - => 기능

4. ERD 작성 절차
- 엔터티 도출/그림 => 엔터티 배치 => 관계설정 => 관계 서술 => 참여도 표현 => 필수 여부 표현

5. 3층 스키마에서 물리적 저장 구조를 의미하는 것
- 내부스키마 (개발자 관점!)

6. 엔터티의 특징으로 올바르지 않은 것?
- 속성이 있어야 한다.
    - => O
- 최소 2개 이상의 다른 엔터티와의 관계가 있어야 한다.
    - => X, 한개만 있어도 괜찮긴함.
- 2개 이상의 인스턴스가 있어야 한다.
    - => O
- 엔터티에는 유일한 식별자가 있어야 한다.
    - => O

7. 엔터티 유무형에 따른 분류 중 다른 하나는?
- 유형 엔터티
    - => 고객 등
- 기본 엔터티
    - => X, 유무형에 따른 분류가 아닌 발생시점에 따른 분류
- 개념 엔터티
    - => 개념적으로 사용 (종목코드 ...)
- 사건 엔터티
    - => 비즈니스 프로세스의 결과 (주문, 취소 ...)

8. 다음의 속성에 대한 설명으로 틀린 것?
- 속성은 업무에서 관리되는 것
- 주식별자에 함수적으로 종속되지 않는다.
    - => 종속된다.
- 하나의 값만 가진다.
- 특성에 따른 분류는 기본속성, 설계속성, 파생속성으로 분류된다.

9. 특성에 따른 속성의 분류가 아닌 것?
- 기본속성
- 중심속성
    - => X
- 설계속성
- 파생속성

10. 직원과 부서의 관계는 무엇?
- 행위관계
- 존재관계
    - => O, 상태
- 이행관계
- 실행관계

11. 식별 관계의 특징으로 옳은 것?
- 식별관계는 실선으로 표현
    - => O
- 외래키가 존재하지 않는다
    - => X
- 점선으로 표현한다.
    - => X, 비식별관계는 점선
- 기본키를 공유하지 않는다.
    - => X

12. 최소성과 유일성을 만족하는 키
- 후보키
